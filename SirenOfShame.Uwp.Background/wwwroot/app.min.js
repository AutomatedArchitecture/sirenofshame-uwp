var __decorate=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=3>r?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(3>r?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();System.register("commands/base.command",[],function(e,t){"use strict";{var n;t&&t.id}return{setters:[],execute:function(){n=function(){function e(e){this.serverService=e}return Object.defineProperty(e.prototype,"type",{get:function(){return null},enumerable:!0,configurable:!0}),e}(),e("BaseCommand",n)}}}),System.register("models/myBuildDefinition",[],function(e,t){"use strict";{var n;t&&t.id}return{setters:[],execute:function(){n=function(){function e(){}return e}(),e("MyBuildDefinition",n)}}}),System.register("models/ciEntryPointSetting",[],function(e,t){"use strict";{var n;t&&t.id}return{setters:[],execute:function(){n=function(){function e(){}return e}(),e("CiEntryPointSetting",n)}}}),System.register("services/server.service",["@angular/core"],function(e,t){"use strict";{var n,o;t&&t.id}return{setters:[function(e){n=e}],execute:function(){o=function(){function e(){this.commands=[],this.connected=new n.EventEmitter(!0),this.connectionError=new n.EventEmitter(!0),this.deviceConnectionChanged=new n.EventEmitter(!0),this.refreshCiEntryPoints=new n.EventEmitter(!0),this.isConnected=!1,"WebSocket"in window?this.connectToServer():this.connectionError.emit("This browser does not support websockets")}return e.prototype.registerCommand=function(e){this.commands.push(e)},e.prototype.connectToServer=function(){var e=this,t=this.getUrl(),n=new WebSocket(t,["echo"]);n.onopen=function(){e.isConnected=!0,e.ws=n,e.ws.onmessage=function(t){var n=JSON.parse(t.data);e.commands.forEach(function(e){return e.type===n.type?void e.response(n):void 0}),"deviceConnectionChanged"===n.type&&(200===n.responseCode?e.deviceConnectionChanged.emit(n.result):console.error(n.result)),"alertResult"===n.type&&(200===n.responseCode?alert(n.result):console.error(n.result))},e.connected.emit(null)},n.onerror=function(){e.isConnected=!1,e.connectionError.emit("Error connecting via websockets.")},n.onclose=function(){e.isConnected=!1,e.connectionError.emit("Lost connection to server, attempting to reconnect."),e.connectToServer()}},e.prototype.getBaseUrl=function(e){if(e.port){var t="8001";return e.hostname+":"+t}return e.hostname},e.prototype.getUrl=function(){var e=this.getBaseUrl(location);return"ws://"+e+"/sockets/"},e.prototype.send=function(e,t){var n=this;if(this.ws&&this.isConnected)this.ws.send(JSON.stringify(e));else var o=this.connected.subscribe(function(){n.ws.send(JSON.stringify(e)),o.unsubscribe()})},e}(),__decorate([n.Output(),__metadata("design:type",n.EventEmitter)],o.prototype,"connected",void 0),__decorate([n.Output(),__metadata("design:type",n.EventEmitter)],o.prototype,"connectionError",void 0),__decorate([n.Output(),__metadata("design:type",n.EventEmitter)],o.prototype,"deviceConnectionChanged",void 0),__decorate([n.Output(),__metadata("design:type",n.EventEmitter)],o.prototype,"refreshCiEntryPoints",void 0),o=__decorate([n.Injectable(),__metadata("design:paramtypes",[])],o),e("ServerService",o)}}}),System.register("commands/echo.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"echo"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.echo=function(e){var t=this;return new Promise(function(n,o){t.response=function(e){return n(e.result)};var i={type:t.type,message:e};t.serverService.send(i,o)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("EchoCommand",r)}}}),System.register("commands/get-builddefinitions.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"getBuildDefinitions"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.getBuildDefinitions=function(e){var t=this;return new Promise(function(n,o){t.response=function(e){200===e.responseCode?n(e.result):o(e.result)};var i={type:t.type,ciServer:e};t.serverService.send(i,o)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("GetBuildDefinitionsCommand",r)}}}),System.register("models/sirenInfo",[],function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){}}}),System.register("commands/get-siren-info.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"getSirenInfo"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.getSirenInfo=function(){var e=this;return new Promise(function(t,n){e.response=function(e){return t(e.result)};var o={type:e.type};e.serverService.send(o,n)})},t.prototype.playLedPattern=function(e){var t={type:"playLedPattern",id:e};this.serverService.send(t)},t.prototype.playAudioPattern=function(e){var t={type:"playAudioPattern",id:e};this.serverService.send(t)},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("GetSirenInfoCommand",r)}}}),System.register("commands/get-cientrypointsettings.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"getCiEntryPointSettings"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.execute=function(){var e=this;return new Promise(function(t,n){e.response=function(e){200===e.responseCode?t(e.result):n(e.result)};var o={type:e.type};e.serverService.send(o,n)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("GetCiEntryPointSettingsCommand",r)}}}),System.register("commands/get-cientrypointsetting.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"getCiEntryPointSetting"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.invoke=function(e){var t=this;return new Promise(function(n,o){t.response=function(e){200===e.responseCode?n(e.result):o(e.result)};var i={type:t.type,id:e};t.serverService.send(i,o)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("GetCiEntryPointSettingCommand",r)}}}),System.register("commands/add-cientrypointsetting.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"addCiEntryPointSetting"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.invoke=function(e){var t=this;return new Promise(function(n,o){t.response=function(e){200===e.responseCode?n(e.result):o(e.result)};var i={type:t.type,ciEntryPointSetting:e};t.serverService.send(i,o)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("AddCiEntryPointSettingCommand",r)}}}),System.register("commands/delete-settings.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"delete-settings"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.execute=function(){var e=this;return new Promise(function(t,n){e.response=function(e){return t(e.result)};var o={type:e.type};e.serverService.send(o,n)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("DeleteSettingsCommand",r)}}}),System.register("commands/delete-server.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"delete-server"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.execute=function(e){var t=this;return new Promise(function(n,o){t.response=function(e){return n(e.result)};var i={type:t.type,message:e};t.serverService.send(i,o)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("DeleteServerCommand",r)}}}),System.register("models/ciEntryPoint",[],function(e,t){"use strict";{var n;t&&t.id}return{setters:[],execute:function(){n=function(){function e(){}return e}(),e("CiEntryPoint",n)}}}),System.register("commands/get-cientrypoints.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"getCiEntryPoints"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.execute=function(){var e=this;return new Promise(function(t,n){e.response=function(e){200===e.responseCode?t(e.result):n(e.result)};var o={type:e.type};e.serverService.send(o,n)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("GetCiEntryPointsCommand",r)}}}),System.register("models/buildStatus",[],function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){}}}),System.register("mock/update-mock-build.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"updateMockBuild"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.execute=function(e){var t=this;return new Promise(function(n,o){t.response=function(e){return n(e.result)};var i={type:t.type,message:e};t.serverService.send(i,o)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("UpdateMockBuildCommand",r)}}}),System.register("commands/get-logs.command",["@angular/core","commands/base.command","services/server.service"],function(e,t){"use strict";{var n,o,i,r;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e}],execute:function(){r=function(e){function t(t){var n=e.call(this,t)||this;return n.serverService=t,t.registerCommand(n),n}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"get-logs"},enumerable:!0,configurable:!0}),t.prototype.response=function(e){},t.prototype.execute=function(){var e=this;return new Promise(function(t,n){e.response=function(e){200===e.responseCode?t(e.result):n(e.result)};var o={type:e.type};e.serverService.send(o,n)})},t}(o.BaseCommand),r=__decorate([n.Injectable(),__metadata("design:paramtypes",[i.ServerService])],r),e("GetLogsCommand",r)}}}),System.register("app",["@angular/core","services/server.service","commands/echo.command","commands/get-builddefinitions.command","commands/get-siren-info.command","commands/get-cientrypointsettings.command","commands/get-cientrypointsetting.command","commands/add-cientrypointsetting.command","commands/delete-settings.command","commands/delete-server.command","commands/get-cientrypoints.command","mock/update-mock-build.command","commands/get-logs.command"],function(e,t){"use strict";{var n,o,i,r,s,c,a,u,d,m,l,p,f,v;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e},function(e){r=e},function(e){s=e},function(e){c=e},function(e){a=e},function(e){u=e},function(e){d=e},function(e){m=e},function(e){l=e},function(e){p=e},function(e){f=e}],execute:function(){v=function(){function e(e,t){var n=this;this.serverService=e,this.getCiEntryPointSettingsCommand=t,this.webSocketsConnecting=!0,this.webSocketsError=null,this.isDeviceConnected=null,e.connected.subscribe(function(){return n.onServerConnected()}),e.refreshCiEntryPoints.subscribe(function(){return n.refreshCiEntryPoints()}),e.connectionError.subscribe(function(e){n.webSocketsConnecting=!1,n.webSocketsError=e}),e.deviceConnectionChanged.subscribe(function(e){return n.isDeviceConnected=e})}return e.prototype.onServerConnected=function(){this.webSocketsConnecting=!1,this.webSocketsError=null,this.refreshCiEntryPoints()},e.prototype.refreshCiEntryPoints=function(){var e=this;this.getCiEntryPointSettingsCommand.execute().then(function(t){return e.ciEntryPointSettings=t})},e}(),v=__decorate([n.Component({selector:"my-app",templateUrl:"components/app.html",providers:[o.ServerService,i.EchoCommand,r.GetBuildDefinitionsCommand,s.GetSirenInfoCommand,c.GetCiEntryPointSettingsCommand,a.GetCiEntryPointSettingCommand,u.AddCiEntryPointSettingCommand,d.DeleteSettingsCommand,l.GetCiEntryPointsCommand,p.UpdateMockBuildCommand,m.DeleteServerCommand,f.GetLogsCommand]}),__metadata("design:paramtypes",[o.ServerService,c.GetCiEntryPointSettingsCommand])],v),e("AppComponent",v)}}}),System.register("showOff/show-off.component",["@angular/core","rxjs/add/operator/toPromise","commands/get-siren-info.command"],function(e,t){"use strict";{var n,o,i;t&&t.id}return{setters:[function(e){n=e},function(e){},function(e){o=e}],execute:function(){i=function(){function e(e){var t=this;this.getSirenInfoCommand=e,e.getSirenInfo().then(function(e){t.ledPatterns=e.ledPatterns,t.audioPatterns=e.audioPatterns})}return e.prototype.playLights=function(e){this.getSirenInfoCommand.playLedPattern(e)},e.prototype.stopLights=function(){this.getSirenInfoCommand.playLedPattern(null)},e.prototype.playAudio=function(e){this.getSirenInfoCommand.playAudioPattern(e)},e.prototype.stopAudio=function(){this.getSirenInfoCommand.playAudioPattern(null)},e}(),i=__decorate([n.Component({template:'\n<h1>Show Off</h1>\n<form class="form-horizontal">\n    <div class="form-group">\n        <label for="ledPattern" class="col-sm-2 control-label">LED Pattern</label>\n        <div class="col-sm-10">\n            <select id="ledPattern" class="form-control" #selectedLedPattern>\n                <option *ngFor="let pattern of ledPatterns" [value]="pattern.id">{{pattern.name}}</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-offset-2 col-sm-10">\n            <button type="submit" class="btn btn-primary" (click)="playLights(selectedLedPattern.value)">Play Lights</button>\n            <button type="submit" class="btn btn-primary" (click)="stopLights()">Stop Lights</button>\n        </div>\n    </div>\n    <div class="form-group">\n        <label for="audioPattern" class="col-sm-2 control-label">Audio Pattern</label>\n        <div class="col-sm-10">\n            <select id="audioPattern" class="form-control">\n                <option *ngFor="let pattern of audioPatterns" [value]="pattern.id">{{pattern.name}}</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-sm-offset-2 col-sm-10">\n            <button type="submit" class="btn btn-primary" (click)="playAudio(selectedLedPattern.value)">Play Audio</button>\n            <button type="submit" class="btn btn-primary" (click)="stopAudio()">Stop Audio</button>\n        </div>\n    </div>\n</form>\n'}),__metadata("design:paramtypes",[o.GetSirenInfoCommand])],i),e("ShowOff",i)}}}),System.register("home/home.component",["@angular/core","commands/echo.command"],function(e,t){"use strict";{var n,o,i;t&&t.id}return{setters:[function(e){n=e},function(e){o=e}],execute:function(){i=function(){function e(e){this.echoCommand=e}return e.prototype.onButtonClick=function(){var e=this;this.echoCommand.echo(this.message).then(function(t){return e.messages+=t},function(e){return alert(e)})},e.prototype.ngOnInit=function(){this.messages=""},e}(),i=__decorate([n.Component({template:'\n    <h1>Siren of Shame</h1>\n    <h2>Messages</h2>\n    <div>{{messages}}</div>\n    <h2>Send</h2>\n    <input type="text" [(ngModel)]="message" />\n    <button type="submit" (click)="onButtonClick()">Send</button>\n'}),__metadata("design:paramtypes",[o.EchoCommand])],i),e("Home",i)}}}),System.register("common/modal-component",["@angular/core"],function(e,t){"use strict";{var n,o;t&&t.id}return{setters:[function(e){n=e}],execute:function(){o=function(){function e(){this.visible=!1,this.visibleAnimate=!1}return e.prototype.show=function(){var e=this;this.visible=!0,setTimeout(function(){return e.visibleAnimate=!0})},e.prototype.hide=function(){var e=this;this.visibleAnimate=!1,setTimeout(function(){return e.visible=!1},300)},e}(),o=__decorate([n.Component({selector:"app-modal",template:'\n  <div (click)="hide()" class="modal fade" tabindex="-1" [ngClass]="{\'in\': visibleAnimate}"\n       [ngStyle]="{\'display\': visible ? \'block\' : \'none\', \'opacity\': visibleAnimate ? 1 : 0}">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <ng-content select=".app-modal-header"></ng-content>\n        </div>\n        <div class="modal-body">\n          <ng-content select=".app-modal-body"></ng-content>\n        </div>\n        <div class="modal-footer">\n          <ng-content select=".app-modal-footer"></ng-content>\n        </div>\n      </div>\n    </div>\n  </div>\n  '})],o),e("ModalComponent",o)}}}),System.register("ciServers/server.component",["@angular/core","@angular/router","models/ciEntryPointSetting","commands/get-builddefinitions.command","commands/get-cientrypointsetting.command","commands/add-cientrypointsetting.command","services/server.service","commands/get-cientrypoints.command","commands/delete-server.command","common/modal-component"],function(e,t){"use strict";{var n,o,i,r,s,c,a,u,d,m,l;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e},function(e){r=e},function(e){s=e},function(e){c=e},function(e){a=e},function(e){u=e},function(e){d=e},function(e){m=e}],execute:function(){l=function(){function e(e,t,n,o,i,r,s,c){this.getBuildDefinitionsCommand=e,this.getCiEntryPointSettingCommand=t,this.addCiEntryPointSettingCommand=n,this.deleteServerCommand=o,this.route=i,this.router=r,this.serverService=s,this.getCiEntryPointsCommand=c,this.ciEntryPointSetting=this.emptyCiEntryPointSetting(),this.loadingProjects=!1,this.addingProjects=!1,this.editingExisting=!1,this.errorMessage=null}return e.prototype.ngOnInit=function(){var e=this;this.addingProjects=!1,this.sub=this.route.params.subscribe(function(t){var n=+t.id;n&&(e.editingExisting=!0,e.getCiEntryPointSettingCommand.invoke(n).then(function(t){return e.updateCiEntryPointSetting(t)}))}),this.getCiEntryPointsCommand.execute().then(function(t){e.serverTypes=t})},e.prototype.updateCiEntryPointSetting=function(e){var t="        ";this.ciEntryPointSetting.id=e.id,this.ciEntryPointSetting.name=e.name,this.ciEntryPointSetting.url=e.url,this.ciEntryPointSetting.userName=e.userName,this.ciEntryPointSetting.password=t,this.ciEntryPointSetting.buildDefinitionSettings=e.buildDefinitionSettings},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e.prototype.emptyCiEntryPointSetting=function(){var e=new i.CiEntryPointSetting;return e.buildDefinitionSettings=[],e},e.prototype.getProjects=function(){var e=this;this.loadingProjects=!0,this.errorMessage=null,this.getBuildDefinitionsCommand.getBuildDefinitions(this.ciEntryPointSetting).then(function(t){e.allProjects=t.filter(function(t){return!e.ciEntryPointSetting.buildDefinitionSettings.some(function(e){return e.id===t.id})}),e.addingProjects=!0},function(t){e.errorMessage=t}).then(function(){e.loadingProjects=!1})},e.prototype["delete"]=function(){var e=this;this.deleteServerCommand.execute(this.ciEntryPointSetting.id).then(function(){e.serverService.refreshCiEntryPoints.emit(),e.router.navigate(["home"])})},e.prototype.isValid=function(){return this.ciEntryPointSetting.buildDefinitionSettings&&this.ciEntryPointSetting.buildDefinitionSettings.length>0},e.prototype.deleteProject=function(e){var t=this.ciEntryPointSetting.buildDefinitionSettings.filter(function(t){return t.name!==e.name});this.ciEntryPointSetting.buildDefinitionSettings=t},e.prototype.onBuildsAdded=function(e){this.addingProjects=!1;var t=this.ciEntryPointSetting.buildDefinitionSettings.concat(e);this.ciEntryPointSetting.buildDefinitionSettings=t},e.prototype.onSave=function(){var e=this;this.addCiEntryPointSettingCommand.invoke(this.ciEntryPointSetting).then(function(t){var n=0===e.ciEntryPointSetting.id;n&&(e.ciEntryPointSetting.id=t),e.serverService.refreshCiEntryPoints.emit(),e.router.navigate(["home"])})},e}(),__decorate([n.ViewChild(m.ModalComponent),__metadata("design:type",m.ModalComponent)],l.prototype,"modal",void 0),l=__decorate([n.Component({templateUrl:"./components/server.html"}),__metadata("design:paramtypes",[r.GetBuildDefinitionsCommand,s.GetCiEntryPointSettingCommand,c.AddCiEntryPointSettingCommand,d.DeleteServerCommand,o.ActivatedRoute,o.Router,a.ServerService,u.GetCiEntryPointsCommand])],l),e("Server",l)}}}),System.register("settings/settings.component",["@angular/core","commands/delete-settings.command","commands/get-logs.command","services/server.service","@angular/router"],function(e,t){"use strict";{var n,o,i,r,s,c;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e},function(e){r=e},function(e){s=e}],execute:function(){c=function(){function e(e,t,n,o){this.deleteSettingsCommand=e,this.router=t,this.serverService=n,this.getLogsCommand=o,this.isBusy=!1,this.logs=null}return e.prototype.getLogs=function(){var e=this;this.isBusy=!0,this.getLogsCommand.execute().then(function(t){e.isBusy=!1,e.logs=t.join("\n")})},e.prototype.deleteConfig=function(){var e=this;confirm("Are you 100% sure?")&&this.deleteSettingsCommand.execute().then(function(){alert("settings deleted"),e.serverService.refreshCiEntryPoints.emit(),e.router.navigate(["home"])})},e}(),c=__decorate([n.Component({template:'\n<h1>Settings</h1>\n<button type="button" class="btn btn-danger" (click)="deleteConfig()">Delete Config</button>\n<h2>Logs</h2>\n<button type="button" (click)="getLogs()" class="btn btn-default">Get Logs</button>\n<pre class="pre-scrollable" *ngIf="logs">{{logs}}</pre>\n<app-spinner [isBusy]="isBusy"></app-spinner>\n'}),__metadata("design:paramtypes",[o.DeleteSettingsCommand,s.Router,r.ServerService,i.GetLogsCommand])],c),e("Settings",c)}}}),System.register("mock/mock-build.component",["@angular/core","mock/update-mock-build.command"],function(e,t){"use strict";{var n,o,i;t&&t.id}return{setters:[function(e){n=e},function(e){o=e}],execute:function(){i=function(){function e(e){this.updateMockBuildCommand=e}return e.prototype.send=function(){var e=3;Number(this.buildStatus.buildStatusEnum)===e?(this.buildStatus.startedTime=new Date,this.buildStatus.finishedTime=null):this.buildStatus.finishedTime=new Date,this.updateMockBuildCommand.execute(this.buildStatus)},e}(),__decorate([n.Input(),__metadata("design:type",Array)],i.prototype,"buildStatuses",void 0),__decorate([n.Input(),__metadata("design:type",Object)],i.prototype,"buildStatus",void 0),i=__decorate([n.Component({selector:"mock-build",template:'\n<h2>{{buildStatus.name}}</h2>\n<form class="form-horizontal" novalidate #serverForm="ngForm" (ngSubmit)="send()">\n  <div class="form-group">\n    <label for="inputStatus" class="col-sm-2 control-label">Status</label>\n    <div class="col-sm-10">\n      <select [(ngModel)]="buildStatus.buildStatusEnum" class="form-control" id="Status" name="Status" placeholder="Status">\n        <option *ngFor="let buildStatus of buildStatuses" [value]="buildStatus.id">{{buildStatus.title}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="requestedBy" class="col-sm-2 control-label">Requested By</label>\n    <div class="col-sm-10">\n      <input type="text" class="form-control" [(ngModel)]="buildStatus.requestedBy" id="requestedBy" name="requestedBy" placeholder="Requested By">\n    </div>\n  </div>\n  <div class="form-group">\n    <label for="comment" class="col-sm-2 control-label">Comment</label>\n    <div class="col-sm-10">\n      <textarea rows="4" [(ngModel)]="buildStatus.comment" class="form-control" id="comment" name="comment" placeholder="Comment"></textarea>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-sm-offset-2 col-sm-10">\n      <button type="submit" class="btn btn-primary">Send</button>\n    </div>\n  </div>\n</form>\n'}),__metadata("design:paramtypes",[o.UpdateMockBuildCommand])],i),e("MockBuild",i)}}}),System.register("mock/mock-server.component",["@angular/core"],function(e,t){"use strict";{var n,o;t&&t.id}return{setters:[function(e){n=e}],execute:function(){o=function(){function e(){this.buildStatuses=[{id:0,title:"Unknown"},{id:1,title:"Working"},{id:2,title:"Broken"},{id:3,title:"In Progress"}],this.buildStatus1=this.makeBuildStatus(1),this.buildStatus2=this.makeBuildStatus(2),this.buildStatus3=this.makeBuildStatus(3)}return e.prototype.makeBuildStatus=function(e){return{buildDefinitionId:"Mock"+e,buildId:(new Date).getMilliseconds().toString(),startedTime:new Date,buildStatusEnum:1,buildStatusMessage:"What is this?",comment:"From the UI!!!",finishedTime:new Date,localStartTime:new Date,name:"Project #"+e,requestedBy:"BobSmith",url:"http://www.google.com"}},e}(),o=__decorate([n.Component({template:'\n<mock-build [buildStatuses]="buildStatuses" [buildStatus]="buildStatus1"></mock-build>\n<mock-build [buildStatuses]="buildStatuses" [buildStatus]="buildStatus2"></mock-build>\n<mock-build [buildStatuses]="buildStatuses" [buildStatus]="buildStatus3"></mock-build>\n'})],o),e("MockServer",o)}}}),System.register("app.routes",["@angular/core","@angular/router","showOff/show-off.component","home/home.component","ciServers/server.component","settings/settings.component","mock/mock-server.component"],function(e,t){"use strict";{var n,o,i,r,s,c,a,u,d;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e},function(e){r=e},function(e){s=e},function(e){c=e},function(e){a=e}],execute:function(){u=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:r.Home},{path:"showoff",component:i.ShowOff},{path:"server",component:s.Server},{path:"server/:id",component:s.Server},{path:"settings",component:c.Settings},{path:"mockServer",component:a.MockServer}],d=function(){function e(){}return e}(),d=__decorate([n.NgModule({imports:[o.RouterModule.forRoot(u)],exports:[o.RouterModule]})],d),e("AppRoutingModule",d)}}}),System.register("ciServers/addbuild.component",["@angular/core"],function(e,t){"use strict";{var n,o;t&&t.id}return{setters:[function(e){n=e}],execute:function(){o=function(){function e(){this.buildsAdded=new n.EventEmitter}return e.prototype.cancel=function(){this.buildsAdded.emit([])},e.prototype.noneSelected=function(){return 0===this.projects.filter(function(e){return e.selected}).length},e.prototype.onAddBuilds=function(){var e=this.projects.filter(function(e){return e.selected});this.buildsAdded.emit(e)},e}(),__decorate([n.Input(),__metadata("design:type",Array)],o.prototype,"projects",void 0),__decorate([n.Output(),__metadata("design:type",n.EventEmitter)],o.prototype,"buildsAdded",void 0),o=__decorate([n.Component({selector:"app-addbuild",template:'<form (ngSubmit)="onAddBuilds()" #serverForm="ngForm" novalidate>\n    <p *ngIf="projects.length > 0">Select projects to watch</p>\n    <div class="checkbox" *ngFor="let project of projects">\n        <label>\n            <input type="checkbox" [(ngModel)]="project.selected" name="{{project.id}}"> {{project.name}}\n        </label>\n    </div>\n    <p *ngIf="projects.length == 0">No projects were found that aren\'t already being watched.</p>\n    <button *ngIf="projects.length > 0" [disabled]="noneSelected()" type="submit" class="btn btn-primary">Add</button>\n    <button type="button" (click)="cancel()" class="btn btn-default">Cancel</button>\n</form>\n'})],o),e("AddBuild",o)}}}),System.register("common/spinner-component",["@angular/core"],function(e,t){"use strict";{var n,o;t&&t.id}return{setters:[function(e){n=e}],execute:function(){o=function(){function e(){this.spinnerBlocksInput=!1,this.initialLoad=!0,this.spinnerOpacity=0}return Object.defineProperty(e.prototype,"isBusy",{set:function(e){var t=this;this.initialLoad?(this.initialLoad=!1,setTimeout(function(){t.setIsBusy(e)},1)):this.setIsBusy(e)},enumerable:!0,configurable:!0}),e.prototype.setIsBusy=function(e){var t=this;e?this.spinnerBlocksInput=!0:setTimeout(function(){t.spinnerBlocksInput=!1},400);var n=e?1:0;this.spinnerOpacity=n},e}(),__decorate([n.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],o.prototype,"isBusy",null),o=__decorate([n.Component({selector:"app-spinner",template:'<div *ngIf="spinnerBlocksInput" class="spinner-wrapper" [style.opacity]="spinnerOpacity">\n        <div class="spinner">\n          <div class="sk-double-bounce">\n            <div class="sk-child sk-double-bounce1"></div>\n            <div class="sk-child sk-double-bounce2"></div>\n          </div>\n        </div>\n    </div>\n'}),__metadata("design:paramtypes",[])],o),
e("Spinner",o)}}}),System.register("app.module",["@angular/core","@angular/platform-browser","@angular/forms","app","app.routes","home/home.component","showOff/show-off.component","ciServers/server.component","ciServers/addbuild.component","settings/settings.component","mock/mock-server.component","mock/mock-build.component","common/modal-component","common/spinner-component"],function(e,t){"use strict";{var n,o,i,r,s,c,a,u,d,m,l,p,f,v,g;t&&t.id}return{setters:[function(e){n=e},function(e){o=e},function(e){i=e},function(e){r=e},function(e){s=e},function(e){c=e},function(e){a=e},function(e){u=e},function(e){d=e},function(e){m=e},function(e){l=e},function(e){p=e},function(e){f=e},function(e){v=e}],execute:function(){g=function(){function e(){}return e}(),g=__decorate([n.NgModule({imports:[o.BrowserModule,s.AppRoutingModule,i.FormsModule],declarations:[r.AppComponent,c.Home,a.ShowOff,u.Server,d.AddBuild,m.Settings,l.MockServer,p.MockBuild,f.ModalComponent,v.Spinner],bootstrap:[r.AppComponent]})],g),e("AppModule",g)}}}),System.register("boot",["@angular/platform-browser-dynamic","app.module"],function(e,t){"use strict";{var n,o;t&&t.id}return{setters:[function(e){n=e},function(e){o=e}],execute:function(){n.platformBrowserDynamic().bootstrapModule(o.AppModule)}}});